// <auto-generated>
// This code was generated by Dash.
// </auto-generated>
using Microsoft.EntityFrameworkCore;

namespace Nnn // {{ Namespace }}
{
    public partial class CustomDbContext : DbContext // TODO: take model name
    {
        {{#each Entities}}
        {{#if CodeGeneration}}
        public DbSet<{{ Name }}> {{ Name }} { get; set; }
        {{/if}}
        {{/each}}

        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
        {
        }

        protected override void OnModelCreating(ModelBuilder modelBuilder)
        {
        {{#each Entities AS Entity}}
        {{#if SeedData}}
            modelBuilder.Entity<{{ Entity.Name }}>().HasData
        {{#each SeedData}}
                new {{ Entity.Name }} {{{#each .}} {{Key}} = "{{Value}}",{{/each}}},

        {{/each}}
            );
        {{/if}}
        {{#each CodeAttributes}}
        {{/each}}
        {{/each}}
        }
    }
}