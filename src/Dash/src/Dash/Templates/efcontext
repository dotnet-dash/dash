// <auto-generated>
// This code was generated by Dash.
// </auto-generated>
using Microsoft.EntityFrameworkCore;
using System.Collections.Generic;

namespace Nnn
{
    public partial class CustomDbContext : DbContext // TODO: take model name
    {
{{- for e in entities }}
        public DbSet<{{ e.name }}> {{ e.name }} { get; set; }
{{- end }}

        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
        {
        }

        protected override void OnModelCreating(ModelBuilder modelBuilder)
        {
{{- for e in entities }}
    {{- if e.seed_data }}
            modelBuilder.Entity<{{ e.name }}>().HasData(new List<{{ e.name }}>
            {
        {{- for data in e.seed_data }}
                new {{ e.name }} { {{- for kvp in data }} {{ kvp.key }} = {{ kvp.value | get_csharp_literal }}{{- if !for.last}},{{- end }} {{- end }} }{{- if !for.last}},{{- end }}
        {{- end}}
            });
    {{- end }}
{{- end }}
        }
    }
}